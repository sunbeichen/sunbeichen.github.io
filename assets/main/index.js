System.register("chunks:///_virtual/Boot.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var t,n,e,r,c;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o._decorator,r=o.director,c=o.Component}],execute:function(){var u;n._RF.push({},"d90d6g5I1xDCo2OA41fnmmv","Boot",void 0);var i=e.ccclass;o("Boot",i("Boot")(u=function(o){function n(){return o.apply(this,arguments)||this}return t(n,o),n.prototype.start=function(){r.loadScene("Menu")},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Food.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(t){var e,n,o,i,s,r,a,h,c,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.Sprite,h=t.SpriteFrame,c=t.Node,u=t.Component},function(t){p=t.GameManager}],execute:function(){var d,T,l,f,g,E,y;s._RF.push({},"25cdcAg2x1MiqHN9s10DI6p","Food",void 0);var P=r.ccclass,v=r.property,A=t("FoodType",function(t){return t[t.APPLE=0]="APPLE",t[t.BANANA=1]="BANANA",t[t.MEAT=2]="MEAT",t[t.LEAF=3]="LEAF",t[t.EGG=4]="EGG",t}({}));t("Food",(d=P("Food"),T=v(a),l=v([h]),d((E=e((g=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"sprite",E,i(e)),o(e,"spriteFrames",y,i(e)),e.isDragging=!1,e.startParent=null,e.type=A.APPLE,e}n(e,t);var s=e.prototype;return s.init=function(t){this.type=t,this.sprite&&this.spriteFrames[t]&&(this.sprite.spriteFrame=this.spriteFrames[t])},s.onLoad=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},s.onDestroy=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(c.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},s.onTouchStart=function(t){this.isDragging=!0,this.startParent=this.node.parent,this.node.setScale(1.2,1.2,1.2),p.getInstance().onFoodTouched(this)},s.onTouchMove=function(t){if(this.isDragging){var e=t.getUIDelta(),n=this.node.getPosition();this.node.setPosition(n.x+e.x,n.y+e.y,n.z)}},s.onTouchEnd=function(t){this.isDragging=!1,this.node.setScale(1,1,1),p.getInstance().onFoodDropped(this)},s.onTouchCancel=function(t){this.isDragging=!1,this.node.setScale(1,1,1),this.resetFoodPos()},s.resetFoodPos=function(){this.node.setParent(this.startParent),this.node.setPosition(0,0,0)},s.getWorldPosition=function(){return this.node.getWorldPosition()},s.getStartParent=function(){return this.startParent},e}(u)).prototype,"sprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"spriteFrames",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=g))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Pot.ts","./LevelConfig.ts","./GoalManager.ts","./TimeManager.ts"],(function(e){var t,o,n,i,r,a,l,s,u,c,g,p,d,f,P,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,l=e._decorator,s=e.Node,u=e.Prefab,c=e.instantiate,g=e.Vec2,p=e.Component},function(e){d=e.Pot},function(e){f=e.Level1},function(e){P=e.GoalManager},function(e){h=e.TimeManager}],execute:function(){var m,v,b,y,L,F,M,S,G,N,C,w,x,z;a._RF.push({},"988ba2CtGpPPJKJfgPtEcGu","GameManager",void 0);var I=l.ccclass,W=l.property;e("GameManager",(m=I("GameManager"),v=W(h),b=W([s]),y=W(u),L=W(u),F=W(s),m(((z=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"timeManager",G,i(t)),n(t,"potNodes",N,i(t)),n(t,"foodPrefab",C,i(t)),n(t,"potPrefab",w,i(t)),n(t,"dragLayerNode",x,i(t)),t.currentLevel=null,t.originalPot=null,t.originalSlot=null,t}o(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this},a.start=function(){console.log("Game Start ‚úÖ"),this.initGame(f)},t.getInstance=function(){return t.instance},a.initGame=function(e){var t,o=this;console.log("ÂàùÂßãÂåñÊ∏∏Êàè..."),this.currentLevel=e,console.log("Âä†ËΩΩÂÖ≥Âç°ÈÖçÁΩÆ:",this.currentLevel);for(var n,i=r(this.potNodes);!(n=i()).done;){n.value.destroy()}this.potNodes=[];for(var a,l=r(e.pots);!(a=l()).done;){var s=a.value,u=c(this.potPrefab);u.setParent(this.node),u.setPosition(s.position),u.getComponent(d).init(this.foodPrefab,s),this.potNodes.push(u)}P.getInstance().init(e.pots.length),null==(t=this.timeManager)||t.startTimer((function(){o.onLose()}))},a.onFoodTouched=function(e){this.originalPot=e.getStartParent().getParent().getComponent(d)?e.getStartParent().getParent().getComponent(d):null;var t=new g(e.getWorldPosition().x,e.getWorldPosition().y);this.originalSlot=e.getStartParent().getParent().getComponent(d).findDropSlot(t),e.node.setParent(this.dragLayerNode,!0)},a.onFoodDropped=function(e){for(var t,o=new g(e.getWorldPosition().x,e.getWorldPosition().y),n=r(this.potNodes);!(t=n()).done;){var i=t.value.getComponent(d);if(i&&i.getBoundingBox().contains(o)){if(i.isFull()){e.resetFoodPos();break}var a,l=i.findDropSlot(o);null==(a=this.originalPot)||a.removeFoodLogicFromSlot(this.originalSlot),l?i.slotIsOccupied(l)?i.placeExistingFood(e.node):i.placeExistingFood(e.node,l):i.placeExistingFood(e.node);break}e.resetFoodPos()}for(var s,u=r(this.potNodes);!(s=u()).done;){var c=s.value.getComponent(d);c&&c.isEmpty()&&c.refill()}return null},a.onPotCompleted=function(e){P.getInstance().updateStatus(e.id),P.getInstance().checkWin()&&this.onWin()},a.onWin=function(){console.log("Ê∏∏ÊàèËÉúÂà©!")},a.onLose=function(){console.log("Ê∏∏ÊàèÂ§±Ë¥•!")},t}(p)).instance=void 0,G=t((S=z).prototype,"timeManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(S.prototype,"potNodes",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=t(S.prototype,"foodPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(S.prototype,"potPrefab",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(S.prototype,"dragLayerNode",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=S))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/GoalManager.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"cb082R4qvxHFJBQC0Fi4kkO","GoalManager",void 0),t("GoalManager",function(){function t(){this.goals=0,this.status=new Map}t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.init=function(t){this.goals=t,console.log("ÁõÆÊ†áÂàùÂßãÂåñÔºåÂΩìÂâçÁõÆÊ†áÊï∞:",this.goals)},n.updateStatus=function(t){this.status.set(t,!0)},n.checkWin=function(){return this.status.size>=this.goals},t}()).instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelConfig.ts",["cc"],(function(t){var o,l;return{setters:[function(t){o=t.cclegacy,l=t.Vec3}],execute:function(){o._RF.push({},"eb7550bWF5LI7aPQRbI4Rqb","LevelConfig",void 0);t("Level1",{id:1,pots:[{position:new l(0,0,0),potId:1,foods:[{slot1:{type:1},slot2:{type:2},slot3:null},{slot1:{type:2},slot2:null,slot3:{type:3}}]},{position:new l(150,0,0),potId:2,foods:[{slot1:{type:1},slot2:null,slot3:{type:2}},{slot1:{type:1},slot2:null,slot3:{type:3}}]},{position:new l(-150,0,0),potId:3,foods:[{slot1:null,slot2:null,slot3:{type:3}}]}]});o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Food.ts","./GameManager.ts","./GoalManager.ts","./LevelConfig.ts","./Pot.ts","./TimeManager.ts","./Boot.ts","./Menu.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Menu.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,c;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.director,c=e.Component}],execute:function(){var u;n._RF.push({},"6c9281wiRdMFbfReZSwEdO4","Menu",void 0);var i=r.ccclass;r.property,e("Menu",i("Menu")(u=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.prototype.startGame=function(){o.loadScene("Game")},n}(c))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/Pot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Food.ts","./GameManager.ts"],(function(o){var t,n,s,e,i,l,r,f,u,d,a;return{setters:[function(o){t=o.inheritsLoose,n=o.createClass},function(o){s=o.cclegacy,e=o._decorator,i=o.instantiate,l=o.Vec3,r=o.UITransform,f=o.Rect,u=o.Component},function(o){d=o.Food},function(o){a=o.GameManager}],execute:function(){var c;s._RF.push({},"6ecf4kKNLZF/49xzXzSXYRw","Pot",void 0);var h=e.ccclass;o("Pot",h("Pot")(c=function(o){function s(){for(var t,n=arguments.length,s=new Array(n),e=0;e<n;e++)s[e]=arguments[e];return(t=o.call.apply(o,[this].concat(s))||this).foods={slot1:null,slot2:null,slot3:null},t.foodPrefab=null,t.foodQueue=[],t.potId=0,t}t(s,o);var e=s.prototype;return e.init=function(o,t){this.foodPrefab=o,this.foodQueue=JSON.parse(JSON.stringify(t.foods)),this.potId=t.potId,this.refill(),console.log("ÈîÖÂàùÂßãÂåñÂÆåÊàê")},e.refill=function(){if(0!==this.foodQueue.length){var o=this.foodQueue.shift();console.log("Ë°•ÂÖÖÈ£üÁâ©:",o);for(var t=1;t<=3;t++){var n=o["slot"+t];n&&this.addNewFood(n.type,t)}}else a.getInstance().onPotCompleted(this)},e.getFoodCount=function(){var o=0;return this.foods.slot1&&o++,this.foods.slot2&&o++,this.foods.slot3&&o++,o},e.isFull=function(){return this.getFoodCount()>=3},e.isEmpty=function(){return 0===this.getFoodCount()},e.addNewFood=function(o,t){if(this.foodPrefab&&!this.isFull()){var n=i(this.foodPrefab);n.getComponent(d).init(o),this.placeFood(n,t)}},e.placeExistingFood=function(o,t){this.isFull()||this.placeFood(o,t)},e.placeFood=function(o,t){if(!t)for(var n in this.foods)if(null===this.foods[n]){t=parseInt(n.replace("slot",""));break}var s;t&&null===this.foods["slot"+t]?(this.foods["slot"+t]=o,null==(s=this.node.getChildByName("slot"+t))||s.addChild(o),o.setPosition(new l(0,0,0))):console.warn("Ê≤°ÊúâÂèØÁî®ÁöÑÈ£üÁâ©ÊßΩ‰Ωç");this.checkMatch()},e.checkMatch=function(){if(this.isFull()){var o=this.foods.slot1.getComponent(d).type,t=!0;for(var n in this.foods){var s=this.foods[n];if(s)if(s.getComponent(d).type!==o){t=!1;break}}t&&(console.log("‰∏âÊ∂àÊàêÂäüüî•"),this.clear())}},e.clear=function(){for(var o in this.foods){var t=this.foods[o];t&&(t.destroy(),this.foods[o]=null)}},e.getBoundingBox=function(){var o=this.getComponent(r);return o?o.getBoundingBoxToWorld():new f},e.findDropSlot=function(o){for(var t=1;t<=3;t++){var n=this.node.getChildByName("slot"+t);if(n)if(n.getComponent(r).getBoundingBoxToWorld().contains(o))return t}return null},e.slotIsOccupied=function(o){return null!==this.foods["slot"+o]},e.removeFoodLogicFromSlot=function(o){this.foods["slot"+o]=null},e.addFoodLogicFromSlot=function(o,t){this.foods["slot"+o]=t},n(s,[{key:"id",get:function(){return this.potId}}]),s}(u))||c);s._RF.pop()}}}));

System.register("chunks:///_virtual/TimeManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,t,n,r,a,o,l,u;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){a=i.cclegacy,o=i._decorator,l=i.Label,u=i.Component}],execute:function(){var s,c,m,p,h,T;a._RF.push({},"21e8eH4pptK6aJZwmtIbYEQ","TimeManager",void 0);var b=o.ccclass,g=o.property;i("TimeManager",(s=b("TimeManager"),c=g(l),s((h=e((p=function(i){function e(){for(var e,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=i.call.apply(i,[this].concat(a))||this,n(e,"timeLabel",h,r(e)),n(e,"totalTime",T,r(e)),e.currentTime=0,e.isRunning=!1,e.onTimeoutCallback=null,e}t(e,i);var a=e.prototype;return a.startTimer=function(i){this.currentTime=this.totalTime,this.isRunning=!0,this.onTimeoutCallback=i},a.stopTimer=function(){this.isRunning=!1},a.update=function(i){this.isRunning&&(this.currentTime-=i,this.timeLabel&&(this.timeLabel.string="Êó∂Èó¥Ôºö"+Math.ceil(this.currentTime)+"s"),this.currentTime<=0&&(this.isRunning=!1,this.currentTime=0,this.onTimeoutCallback&&this.onTimeoutCallback()))},e}(u)).prototype,"timeLabel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(p.prototype,"totalTime",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),m=p))||m));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});